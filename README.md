# Photo Metadata Viewer

사진의 EXIF 메타데이터를 추출하고 GPS 좌표를 지도에 표시하는 웹 애플리케이션입니다.

## 주요 기능

- 📸 **다중 이미지 업로드**: 여러 장의 사진을 한 번에 업로드 (드래그 앤 드롭 지원)
- 🗺️ **GPS 지도 표시**: 사진의 GPS 좌표를 지도에 마커로 표시
- 📍 **동선 애니메이션**: 시간순으로 정렬된 사진들의 이동 경로를 자동차 아이콘으로 시각화
- 📊 **메타데이터 표시**: 카메라 정보, EXIF 데이터, 촬영 날짜 등 상세 정보 제공
- 🖼️ **라이트박스**: 이미지 클릭 시 전체 화면으로 확대 보기
- 📌 **보드판 모드**: Canvas 기반 화이트보드에 폴라로이드 스타일로 사진 배치
- ⬇️ **보드판 다운로드**: 보드판 화면을 제목과 함께 이미지로 저장
- ⚡ **성능 최적화**: Canvas를 활용한 썸네일 생성으로 빠른 로딩

## 프로젝트 구조

```
src/
├── components/              # React 컴포넌트
│   ├── AnimatedCarMarker.jsx    # 자동차 마커 애니메이션 컴포넌트
│   ├── BoardMode.jsx            # 보드판 모드 (Canvas 화이트보드)
│   ├── ImageLightbox.jsx        # 전체 화면 이미지 라이트박스
│   ├── ImagePreview.jsx         # 선택된 이미지 미리보기
│   ├── ImageUploader.jsx        # 이미지 업로드 영역 (드래그 앤 드롭 지원)
│   ├── MapBoundsUpdater.jsx     # 지도 영역 자동 조정
│   ├── MapMode.jsx              # 전체 화면 지도 모드
│   ├── MapUpdater.jsx           # 지도 중심점 업데이트
│   ├── MapWheelHandler.jsx      # 지도 휠 스크롤 핸들러
│   ├── MetadataSidebar.jsx      # 왼쪽 메타데이터 사이드바
│   └── ThumbnailGrid.jsx        # 원형 썸네일 그리드
├── utils/                  # 유틸리티 함수
│   ├── gpsUtils.js              # GPS 좌표 파싱 함수
│   ├── imageUtils.js            # 이미지 처리 (썸네일 생성, 시간순 정렬)
│   └── metadataUtils.js         # 메타데이터 포맷팅 함수
├── App.jsx                 # 메인 애플리케이션 컴포넌트
├── main.jsx                # 애플리케이션 진입점
├── App.css                 # 애플리케이션 스타일
└── index.css               # 전역 스타일
```

## 컴포넌트 설명

### `App.jsx`
메인 애플리케이션 컴포넌트로 전체 레이아웃과 상태 관리를 담당합니다.
- 이미지 목록 관리
- 선택된 이미지 상태 관리
- 지도 모드, 보드판 모드, 라이트박스 상태 관리
- 드래그 앤 드롭 이벤트 처리

### `components/BoardMode.jsx`
Canvas 기반의 보드판 모드 컴포넌트입니다.
- **기능**:
  - 폴라로이드 스타일의 사진 카드 표시
  - 사진마다 카메라 정보와 촬영 날짜 표시
  - 컬러풀한 압정(핀) 아이콘
  - 사진 드래그로 위치 이동 가능
  - 보드 드래그로 전체 패닝
  - 마우스 휠로 확대/축소
  - 관성 스크롤 (탄성 효과)
  - 제목 입력 후 이미지 다운로드

### `components/ImageLightbox.jsx`
전체 화면 이미지 라이트박스 컴포넌트입니다.
- **기능**: 이미지를 전체 화면으로 확대 표시
- **네비게이션**: 좌우 화살표 및 키보드로 이미지 이동
- **썸네일 스트립**: 하단에 모든 이미지 썸네일 표시

### `components/AnimatedCarMarker.jsx`
동선 애니메이션에서 사용되는 자동차 마커 컴포넌트입니다.
- **기능**: GPS 좌표를 따라 부드럽게 이동하는 자동차 아이콘 표시
- **애니메이션**: 0.8초 동안 ease-in-out 애니메이션으로 이동
- **함수**:
  - `createCarIcon()`: 자동차 아이콘 생성
  - `resetCarMarker()`: 마커 초기화

### `components/ImageUploader.jsx`
이미지 업로드를 위한 컴포넌트입니다.
- **기능**: 파일 선택 및 드래그 앤 드롭으로 이미지 업로드
- **시각적 피드백**: 드래그 중일 때 UI 변화 표시

### `components/ThumbnailGrid.jsx`
업로드된 이미지들을 원형 썸네일로 표시하는 컴포넌트입니다.
- **기능**: 원형 썸네일 그리드 표시
- **인터랙션**: 썸네일 클릭 시 해당 이미지 선택
- **삭제**: 호버 시 X 버튼으로 이미지 삭제 가능

### `components/ImagePreview.jsx`
선택된 이미지를 큰 화면으로 표시하는 컴포넌트입니다.
- **기능**: 선택된 이미지의 큰 미리보기 표시
- **클릭**: 클릭 시 라이트박스로 확대
- **로딩 상태**: 메타데이터 로딩 중 표시

### `components/MetadataSidebar.jsx`
왼쪽 사이드바에 메타데이터 정보를 표시하는 컴포넌트입니다.
- **기능**: 
  - 이미지 네비게이션 컨트롤
  - 현재 이미지 번호 표시
  - 카메라 정보, EXIF 데이터, 촬영 날짜 표시
  - GPS 좌표 및 작은 지도 표시
- **지도**: GPS 좌표가 있을 경우 작은 지도에 마커 표시

### `components/MapMode.jsx`
전체 화면 지도 모드 컴포넌트입니다.
- **기능**:
  - 모든 GPS 좌표를 마커로 표시
  - 마커 호버 시 썸네일 표시
  - 동선 버튼으로 경로 애니메이션 제어
  - 전체 경로 및 이동한 경로를 선으로 표시

### `components/MapUpdater.jsx`
지도 중심점을 업데이트하는 컴포넌트입니다.
- **기능**: GPS 좌표 변경 시 지도 중심점 자동 업데이트

### `components/MapBoundsUpdater.jsx`
지도 영역을 자동으로 조정하는 컴포넌트입니다.
- **기능**: 모든 마커가 보이도록 지도 영역 자동 조정

### `components/MapWheelHandler.jsx`
지도 휠 스크롤을 처리하는 컴포넌트입니다.
- **기능**: 마우스 휠로 지도 확대/축소 제어

## 유틸리티 함수

### `utils/gpsUtils.js`
GPS 좌표 파싱 관련 함수입니다.
- **`parseGPS(metadata)`**: EXIF 메타데이터에서 GPS 좌표를 추출하고 파싱
  - 도/분/초 형식을 십진수로 변환
  - 다양한 GPS 데이터 형식 지원

### `utils/imageUtils.js`
이미지 처리 관련 함수입니다.
- **`createThumbnail(file, maxSize)`**: Canvas를 사용하여 썸네일 생성
  - 비율 유지하며 리사이즈
  - JPEG 형식으로 변환 (품질 0.85)
- **`sortImagesByTime(imageList)`**: 이미지를 촬영 시간순으로 정렬
  - DateTimeOriginal 우선, 없으면 DateTime, 없으면 파일 수정 시간 사용

### `utils/metadataUtils.js`
메타데이터 포맷팅 함수입니다.
- **`formatMetadata(metadata)`**: EXIF 메타데이터를 읽기 쉬운 형식으로 변환
  - 카메라 정보 (Make, Model)
  - EXIF 정보 (초점거리, 셔터스피드, 조리개)
  - 촬영 날짜 포맷팅
  - GPS 좌표 파싱 및 표시 형식 변환

## 사용 기술

- **React 19**: UI 라이브러리
- **Vite 7**: 빌드 도구
- **TypeScript**: 타입 안정성
- **Tailwind CSS 4**: 스타일링
- **Leaflet**: 지도 라이브러리
- **React Leaflet**: Leaflet의 React 래퍼
- **ExifReader**: EXIF 메타데이터 읽기
- **Lucide React**: 아이콘 라이브러리
- **html2canvas**: 화면 캡처 (설치됨)

## 설치 및 실행

```bash
# 의존성 설치
npm install

# 개발 서버 실행
npm run dev

# 프로덕션 빌드
npm run build

# 빌드 미리보기
npm run preview
```

## 주요 기능 사용법

### 1. 이미지 업로드
- 상단 "upload photos" 버튼 클릭 또는
- 드래그 앤 드롭으로 이미지 파일 업로드
- 여러 장을 한 번에 업로드 가능

### 2. 이미지 선택 및 보기
- 썸네일 클릭하여 이미지 선택
- 왼쪽 사이드바에서 이전/다음 버튼으로 이동
- 이미지 클릭 시 라이트박스(전체 화면)로 확대

### 3. 지도 모드
- 상단 "지도 모드" 버튼 클릭 (GPS 정보가 있는 사진 필요)
- 모든 GPS 좌표가 마커로 표시됨
- 마커에 마우스 오버 시 썸네일 표시

### 4. 동선 애니메이션
- 지도 모드에서 "동선" 버튼 클릭
- 시간순으로 정렬된 경로를 따라 자동차 아이콘이 이동
- 이동한 경로는 초록색 선으로 표시

### 5. 보드판 모드
- 상단 "보드판으로 보기" 버튼 클릭
- 폴라로이드 스타일의 사진이 화이트보드에 배치됨
- 각 사진에 카메라 정보와 촬영 날짜 표시
- **사진 이동**: 사진을 드래그하여 원하는 위치로 이동
- **보드 이동**: 빈 공간을 드래그하여 전체 보드 패닝
- **확대/축소**: 마우스 휠 또는 하단 버튼 사용
- **관성 스크롤**: 빠르게 드래그 후 놓으면 부드럽게 감속

### 6. 보드판 다운로드
- 보드판 모드에서 하단의 다운로드 버튼(↓) 클릭
- 보드판 제목 입력 (선택사항)
- 제목이 이미지 상단 중앙에 표시됨
- PNG 이미지로 자동 다운로드

## 라이선스

MIT
